<div class="p-4">
  <h2 class="text-xl font-bold mb-4">Relatório de Alocação</h2>

  <div *ngFor="let e of engenheiros" class="mb-6 border p-4 rounded shadow">
    <h3 class="font-semibold text-lg mb-2">
      {{ e.name }} ({{ (e.efficiency * 100) | number:'1.0-0' }}% eficiente)
    </h3>

    <div *ngIf="e.tasks.length > 0; else semTarefas">
      <table class="w-full table-auto text-sm">
        <thead class="bg-gray-100">
          <tr>
            <th class="p-2 text-left">Tarefa</th>
            <th class="p-2 text-left">Tempo Base</th>
            <th class="p-2 text-left">Tempo Ajustado</th>
            <th class="p-2 text-left">Status</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let t of e.tasks" class="border-t">
            <td class="p-2">{{ t.name }}</td>
            <td class="p-2">{{ t.hours }}h</td>
            <td class="p-2">{{ (t.hours / (1 + e.efficiency)) | number:'1.1-1' }}h</td>
            <td class="p-2">{{ t.status }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <ng-template #semTarefas>
      <p class="text-gray-500">Sem tarefas atribuídas.</p>
    </ng-template>
  </div>
</div>